
# StyleTTS 2 Ukrainian EXP üá∫üá¶

<div align="center">

**–í–∏—Å–æ–∫–æ—è–∫—ñ—Å–Ω–∏–π —Å–∏–Ω—Ç–µ–∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ–≥–æ –º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ StyleTTS 2.**

[![Status](https://img.shields.io/badge/status-active-success.svg)]()
[![Platform](https://img.shields.io/badge/platform-Windows-blue.svg)]()
[![Python](https://img.shields.io/badge/Python-3.11-blue.svg)]()
[![License](https://img.shields.io/badge/license-MIT-green.svg)]()

</div>

---

## üìñ –ó–º—ñ—Å—Ç

- [‚ú® –û–≥–ª—è–¥](#-–æ–≥–ª—è–¥)
- [üöÄ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ](#-–º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ)
- [üìÇ –§–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#-—Ñ–∞–π–ª–æ–≤–∞-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- [üß† –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –º–æ–¥–µ–ª—ñ](#-–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ-–º–æ–¥–µ–ª—ñ)
- [üì¶ –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ](#-–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ)
- [‚ñ∂Ô∏è –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏](#Ô∏è-—è–∫-–∑–∞–ø—É—Å—Ç–∏—Ç–∏-—Ç–∞-–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏)
- [‚öôÔ∏è –ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏](#Ô∏è-–ø—Ä–∏–Ω—Ü–∏–ø-—Ä–æ–±–æ—Ç–∏)
- [üíª –ö–ª—é—á–æ–≤—ñ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏ –∫–æ–¥—É](#-–∫–ª—é—á–æ–≤—ñ-—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏-–∫–æ–¥—É)

---

## ‚ú® –û–≥–ª—è–¥

**StyleTTS 2 Ukrainian EXP** ‚Äî —Ü–µ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Å–∏–Ω—Ç–µ–∑—É –º–æ–≤–ª–µ–Ω–Ω—è (Text-to-Speech), —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤–∏—Å–æ–∫–æ—è–∫—ñ—Å–Ω–æ–≥–æ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ–≥–æ –º–æ–≤–ª–µ–Ω–Ω—è. –°–∏—Å—Ç–µ–º–∞ –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ —Å—É—á–∞—Å–Ω—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ **StyleTTS 2** —ñ –Ω–∞–¥–∞—î –∑—Ä—É—á–Ω–∏–π –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó.

–ü—Ä–æ–µ–∫—Ç —î –ø–æ–≤–Ω—ñ—Å—Ç—é **–ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∏–º** –∑–∞–≤–¥—è–∫–∏ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –≤–ª–∞—Å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ Python (`python-portable`), —â–æ –¥–æ–∑–≤–æ–ª—è—î –∑–∞–ø—É—Å–∫–∞—Ç–∏ –π–æ–≥–æ –Ω–∞ –û–° Windows –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ Python —á–∏ –±—É–¥—å-—è–∫—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤ —Å–∏—Å—Ç–µ–º—É. –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å `run.bat` —ñ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä—ñ.

## üöÄ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- **–Ø–∫—ñ—Å—Ç—å –º–æ–≤–ª–µ–Ω–Ω—è, –±–ª–∏–∑—å–∫–∞ –¥–æ –ª—é–¥—Å—å–∫–æ—ó**: –ó–∞–≤–¥—è–∫–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ StyleTTS 2.
- **–ë–∞–≥–∞—Ç–æ–≥–æ–ª–æ—Å–Ω–∏–π —Å–∏–Ω—Ç–µ–∑**: –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥–µ—Å—è—Ç–∫—ñ–≤ —Ä—ñ–∑–Ω–∏—Ö —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –≥–æ–ª–æ—Å—ñ–≤.
- **–í–µ—Ä–±–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–µ–∫—Å—Ç—É**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–∏—Å–µ–ª, –¥–∞—Ç, —Ç–∞ –∞–±—Ä–µ–≤—ñ–∞—Ç—É—Ä —É —Å–ª–æ–≤–∞.
- **–†—É—á–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –Ω–∞–≥–æ–ª–æ—Å–æ–º**: –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∫–∞–∑–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –Ω–∞–≥–æ–ª–æ—Å —É —Å–ª–æ–≤—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–∏–º–≤–æ–ª—É `+` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `–∑–∞+–º–æ–∫`).
- **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ**: –ü—Ä–æ—Å—Ç–∏–π —Å–ª–∞–π–¥–µ—Ä –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é —Ç–µ–º–ø—É –º–æ–≤–ª–µ–Ω–Ω—è.
- **–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å**: –ù–µ –ø–æ—Ç—Ä–µ–±—É—î —ñ–Ω—Å—Ç–∞–ª—è—Ü—ñ—ó, –ø—Ä–∞—Ü—é—î "–∑ –∫–æ—Ä–æ–±–∫–∏" –Ω–∞ Windows.
- **–Ü–Ω—Ç—É—ó—Ç–∏–≤–Ω–∏–π –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –°—Ç–≤–æ—Ä–µ–Ω–∏–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Gradio.

## üìÇ –§–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –º–∞—î –Ω–∞—Å—Ç—É–ø–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–ª—é—á–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π:

```
D:/STYLETTS2-UKRAINIANEXP/
‚îú‚îÄ‚îÄ run.bat                # ‚ñ∂Ô∏è –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–≥—Ä–∞–º–∏
‚îú‚îÄ‚îÄ app.py                 # üêç –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –∑ –ª–æ–≥—ñ–∫–æ—é Gradio —Ç–∞ —Å–∏–Ω—Ç–µ–∑—É
‚îú‚îÄ‚îÄ verbalizer.py          # üó£Ô∏è –ú–æ–¥—É–ª—å –¥–ª—è –≤–µ—Ä–±–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–µ–∫—Å—Ç—É
‚îú‚îÄ‚îÄ config.yml             # ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –º–æ–¥–µ–ª—ñ StyleTTS 2
‚îú‚îÄ‚îÄ requirements.txt       # üì¶ –°–ø–∏—Å–æ–∫ Python-–∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ filatov.pt             # üé§ –§–∞–π–ª —Å—Ç–∏–ª—é –¥–ª—è –æ–¥–Ω–æ–≥–æ–ª–æ—Å–Ω–æ—ó –º–æ–¥–µ–ª—ñ
‚îú‚îÄ‚îÄ voices/                # üìÅ –ü–∞–ø–∫–∞ –∑ —Ñ–∞–π–ª–∞–º–∏ —Å—Ç–∏–ª—ñ–≤ (.pt) –¥–ª—è –±–∞–≥–∞—Ç–æ–≥–æ–ª–æ—Å–Ω–æ—ó –º–æ–¥–µ–ª—ñ
‚îÇ   ‚îú‚îÄ‚îÄ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –ü–∞–≤–ª–µ–Ω–∫–æ.pt
‚îÇ   ‚îú‚îÄ‚îÄ –ê—Ä—Ç–µ–º –û–∫–æ—Ä–æ–∫–æ–≤.pt
‚îÇ   ‚îî‚îÄ‚îÄ ... (—Ç–∞ –±–∞–≥–∞—Ç–æ —ñ–Ω—à–∏—Ö)
‚îú‚îÄ‚îÄ models/                # üìÅ –õ–æ–∫–∞–ª—å–Ω–æ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –Ω–µ–π—Ä–æ–Ω–Ω—ñ –º–æ–¥–µ–ª—ñ
‚îÇ   ‚îú‚îÄ‚îÄ models--patriotyk--styletts2_ukrainian_multispeaker/ # –ë–∞–≥–∞—Ç–æ–≥–æ–ª–æ—Å–Ω–∞ –º–æ–¥–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ models--patriotyk--styletts2_ukrainian_single/     # –û–¥–Ω–æ–≥–æ–ª–æ—Å–Ω–∞ –º–æ–¥–µ–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ models--skypro1111--mbart-large-50-verbalization/ # –ú–æ–¥–µ–ª—å –≤–µ—Ä–±–∞–ª—ñ–∑–∞—Ü—ñ—ó
‚îî‚îÄ‚îÄ python-portable/       # üêç –Ü–∑–æ–ª—å–æ–≤–∞–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ Python –∑ —É—Å—ñ–º–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞–º–∏
```

## üß† –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –º–æ–¥–µ–ª—ñ

–°–∏—Å—Ç–µ–º–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ñ –Ω–µ–π—Ä–æ–Ω–Ω—ñ –º–æ–¥–µ–ª—ñ, —è–∫—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ:

1.  **`patriotyk/styletts2_ukrainian_multispeaker`**: –û—Å–Ω–æ–≤–Ω–∞ –±–∞–≥–∞—Ç–æ–≥–æ–ª–æ—Å–Ω–∞ –º–æ–¥–µ–ª—å StyleTTS 2 –¥–ª—è —Å–∏–Ω—Ç–µ–∑—É –º–æ–≤–ª–µ–Ω–Ω—è.
2.  **`patriotyk/styletts2_ukrainian_single`**: –û–¥–Ω–æ–≥–æ–ª–æ—Å–Ω–∞ –≤–µ—Ä—Å—ñ—è –º–æ–¥–µ–ª—ñ.
3.  **`skypro1111/mbart-large-50-verbalization`**: –ú–æ–¥–µ–ª—å –Ω–∞ –æ—Å–Ω–æ–≤—ñ mBART, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–∏—Å–µ–ª, –¥–∞—Ç —Ç–∞ –∞–±—Ä–µ–≤—ñ–∞—Ç—É—Ä —É —Å–ª–æ–≤–∞ –ø–µ—Ä–µ–¥ —Å–∏–Ω—Ç–µ–∑–æ–º.

## üì¶ –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

–í—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ —É –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ `python-portable`. –û—Å–Ω–æ–≤–Ω—ñ –∑ –Ω–∏—Ö:

- **`torch`**: –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –≥–ª–∏–±–æ–∫–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è.
- **`gradio` / `spaces`**: –î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.
- **`transformers`**: –î–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –º–æ–¥–µ–ª–ª—é –≤–µ—Ä–±–∞–ª—ñ–∑–∞—Ü—ñ—ó.
- **`ukrainian-word-stress`**: –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó —Ä–æ–∑—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–≥–æ–ª–æ—Å—ñ–≤.
- **`ipa-uk`**: –î–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—ó —Ç–µ–∫—Å—Ç—É –≤ –ú—ñ–∂–Ω–∞—Ä–æ–¥–Ω–∏–π —Ñ–æ–Ω–µ—Ç–∏—á–Ω–∏–π –∞–ª—Ñ–∞–≤—ñ—Ç (IPA).
- **`styletts2-inference`**: –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –º–æ–¥–µ–ª—è–º–∏ StyleTTS 2.
- **`librosa`, `SoundFile`**: –î–ª—è –æ–±—Ä–æ–±–∫–∏ –∞—É–¥—ñ–æ.

## ‚ñ∂Ô∏è –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

1.  **–ó–∞–ø—É—Å—Ç—ñ—Ç—å `run.bat`**. –ó'—è–≤–∏—Ç—å—Å—è –≤—ñ–∫–Ω–æ –∫–æ–Ω—Å–æ–ª—ñ.
2.  **–î–æ—á–µ–∫–∞–π—Ç–µ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**. –í –∫–æ–Ω—Å–æ–ª—ñ –∑'—è–≤–∏—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:
    ```
    Running on local URL: http://127.0.0.1:7860
    ```
3.  **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –∞–¥—Ä–µ—Å—É** `http://127.0.0.1:7860` —É –≤–∞—à–æ–º—É —É–ª—é–±–ª–µ–Ω–æ–º—É –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä—ñ.
4.  **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
    - –û–±–µ—Ä—ñ—Ç—å –≤–∫–ª–∞–¥–∫—É **`Mult—ñ speaker`** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ) –∞–±–æ `Single speaker`.
    - –í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç —É –ø–æ–ª–µ `Text`.
    - –û–±–µ—Ä—ñ—Ç—å `–ì–æ–ª–æ—Å` –∑—ñ —Å–ø–∏—Å–∫—É.
    - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ `–®–≤–∏–¥–∫—ñ—Å—Ç—å`.
    - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É **`–°–∏–Ω—Ç–µ–∑—É–≤–∞—Ç–∏`**.
    - –ü—Ä–æ—Å–ª—É—Ö–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –ø–æ–ª—ñ `Audio`.

## ‚öôÔ∏è –ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏

–ü—Ä–æ—Ü–µ—Å –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –≤ –º–æ–≤–ª–µ–Ω–Ω—è —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –µ—Ç–∞–ø—ñ–≤:

1.  **–í–≤–µ–¥–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É**: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ.
2.  **–í–µ—Ä–±–∞–ª—ñ–∑–∞—Ü—ñ—è (–æ–ø—Ü—ñ–π–Ω–æ)**: –¢–µ–∫—Å—Ç –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è –º–æ–¥–µ–ª–ª—é mBART –¥–ª—è —Ä–æ–∑–∫—Ä–∏—Ç—Ç—è —Å–∫–æ—Ä–æ—á–µ–Ω—å (–Ω–∞–ø—Ä., `100 –≥—Ä–Ω` -> `—Å—Ç–æ –≥—Ä–∏–≤–µ–Ω—å`).
3.  **–õ—ñ–Ω–≥–≤—ñ—Å—Ç–∏—á–Ω–∞ –æ–±—Ä–æ–±–∫–∞**:
    - **–ù–∞–≥–æ–ª–æ—Å–∏**: –ü—Ä–æ–≥—Ä–∞–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑—Å—Ç–∞–≤–ª—è—î –Ω–∞–≥–æ–ª–æ—Å–∏.
    - **–§–æ–Ω–µ—Ç–∏–∑–∞—Ü—ñ—è**: –¢–µ–∫—Å—Ç –∑ –Ω–∞–≥–æ–ª–æ—Å–∞–º–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ —Ñ–æ–Ω–µ—Ç–∏—á–Ω—É —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—é (IPA).
4.  **–°–∏–Ω—Ç–µ–∑**:
    - –§–æ–Ω–µ–º–∏ –ø–æ–¥–∞—é—Ç—å—Å—è –Ω–∞ –≤—Ö—ñ–¥ –º–æ–¥–µ–ª—ñ **StyleTTS 2**.
    - –ú–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä—É—î –∞—É–¥—ñ–æ-—Å–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º—É, –≤—Ä–∞—Ö–æ–≤—É—é—á–∏ –æ–±—Ä–∞–Ω–∏–π —Å—Ç–∏–ª—å –≥–æ–ª–æ—Å—É.
5.  **–í–æ–∫–æ–¥–∏–Ω–≥**: –°–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞ —Ñ—ñ–Ω–∞–ª—å–Ω—É –∞—É–¥—ñ–æ-—Ö–≤–∏–ª—é.
6.  **–í—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è**: –ê—É–¥—ñ–æ –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ –¥–ª—è –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è.

## üíª –ö–ª—é—á–æ–≤—ñ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏ –∫–æ–¥—É

<details>
<summary><b><code>app.py</code> ‚Äî –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª –ø—Ä–æ–≥—Ä–∞–º–∏</b></summary>

```python
import sys
import os
sys.path.insert(0, os.path.abspath(os.path.dirname(__file__)))
import glob
import os
import re
import gradio as gr

import spaces
from verbalizer import Verbalizer

import torch
from ipa_uk import ipa
from unicodedata import normalize
from styletts2_inference.models import StyleTTS2
from ukrainian_word_stress import Stressifier, StressSymbol
stressify = Stressifier()

device = 'cuda' if torch.cuda.is_available() else 'cpu'

prompts_dir = 'voices'

# --- –í–∫–∞–∑—É—î–º–æ –ª–æ–∫–∞–ª—å–Ω–∏–π —à–ª—è—Ö –¥–æ –º–æ–¥–µ–ª—ñ –≤–µ—Ä–±–∞–ª—ñ–∑–∞—Ç–æ—Ä–∞ ---
verbalizer = Verbalizer(model_path='models/models--skypro1111--mbart-large-50-verbalization', device=device)


def split_to_parts(text):
    split_symbols = '.?!:'
    parts = ['']
    index = 0
    for s in text:
        parts[index] += s
        if s in split_symbols and len(parts[index]) > 150:
            index += 1
            parts.append('')
    return parts


# --- –í–∫–∞–∑—É—î–º–æ –ª–æ–∫–∞–ª—å–Ω–∏–π —à–ª—è—Ö –¥–æ single-speaker –º–æ–¥–µ–ª—ñ ---
single_model = StyleTTS2(hf_path='models/models--patriotyk--styletts2_ukrainian_single', device=device)
single_style = torch.load('filatov.pt')


# --- –í–∫–∞–∑—É—î–º–æ –ª–æ–∫–∞–ª—å–Ω–∏–π —à–ª—è—Ö –¥–æ multi-speaker –º–æ–¥–µ–ª—ñ ---
multi_model = StyleTTS2(hf_path='models/models--patriotyk--styletts2_ukrainian_multispeaker', device=device)
multi_styles = {}

prompts_list = sorted(glob.glob(os.path.join(prompts_dir, '*.pt')))
prompts_list = [os.path.splitext(os.path.basename(p))[0] for p in prompts_list]

for audio_prompt in prompts_list:
    audio_path = os.path.join(prompts_dir, audio_prompt+'.pt')
    multi_styles[audio_prompt] = torch.load(audio_path)
    print('loaded ', audio_prompt)

models = {
    'multi': {
        'model': multi_model,
        'styles': multi_styles
    },
    'single': {
        'model': single_model,
        'style': single_style
    }
}


@spaces.GPU
def verbalize(text):
    parts = split_to_parts(text)
    verbalized = ''
    for part in parts:
        if part.strip():
            verbalized += verbalizer.generate_text(part) + ' '
    return verbalized

# ... (—Ä–µ—à—Ç–∞ –∫–æ–¥—É –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É Gradio) ...

@spaces.GPU
def synthesize(model_name, text, speed, voice_name = None, progress=gr.Progress()):
    
    if text.strip() == "":
        raise gr.Error("You must enter some text")
    if len(text) > 50000:
        raise gr.Error("Text must be <50k characters")
    
    result_wav = []
    for t in progress.tqdm(split_to_parts(text)):

        t = t.strip().replace('"', '')
        if t:
            t = t.replace('+', StressSymbol.CombiningAcuteAccent)
            t = normalize('NFKC', t)
            t = re.sub(r'[·†Ü‚Äê‚Äë‚Äí‚Äì‚Äî‚Äï‚Åª‚Çã‚àí‚∏∫‚∏ª]', '-', t)
            t = re.sub(r' - ', ': ', t)
            ps = ipa(stressify(t))

            if ps:
                tokens = models[model_name]['model'].tokenizer.encode(ps)
                if voice_name:
                    style = models[model_name]['styles'][voice_name]
                else:
                    style = models[model_name]['style']
                
                wav = models[model_name]['model'](tokens, speed=speed, s_prev=style)
                result_wav.append(wav)

    return 24000, torch.concatenate(result_wav).cpu().numpy()

# ... (–∫–æ–¥ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É Gradio) ...

if __name__ == "__main__":
    demo.queue(api_open=True, max_size=15).launch(show_api=True)
```
</details>

<details>
<summary><b><code>verbalizer.py</code> ‚Äî –ú–æ–¥—É–ª—å –≤–µ—Ä–±–∞–ª—ñ–∑–∞—Ü—ñ—ó</b></summary>

```python
import torch
from transformers import AutoModelForSeq2SeqLM, MBartTokenizer

class Verbalizer:
    def __init__(self, model_path: str = "ina-speech-research/Ukrainian-Verbalizer-g2p-v1", device: str = 'cpu'):
        try:
            # –í–∏–∫–ª–∏–∫–∞—î–º–æ MBartTokenizer –Ω–∞–ø—Ä—è–º—É, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–º–∏–ª–æ–∫ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó
            self.tokenizer = MBartTokenizer.from_pretrained(
                model_path,
                local_files_only=True
            )
            
            self.model = AutoModelForSeq2SeqLM.from_pretrained(
                model_path, 
                local_files_only=True
            )
            
        except Exception as e:
            print(f"--- An error occurred during model loading: {e}")
            raise

        self.to(device)

    def to(self, device):
        self.device = device
        self.model.to(self.device)

    def generate_text(self, text, **kwargs):
        inputs = self.tokenizer(text, return_tensors="pt")
        inputs = inputs.to(self.device)

        translated = self.model.generate(**inputs, **kwargs)
        output = [self.tokenizer.decode(t, skip_special_tokens=True) for t in translated]
        
        return output[0]
```
</details>
